# ESLint v7.2.0 æ–°è¦ãƒ«ãƒ¼ãƒ«è¨­å®šãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µãƒãƒªãƒ¼

**åˆ†ææ—¥**: 2025-10-04

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

- **ç·ãƒ«ãƒ¼ãƒ«æ•°**: 78å€‹
- **å³åº§ã«æœ‰åŠ¹åŒ–æ¨å¥¨**: **15å€‹**
- **ç¶™ç¶šoffæ¨å¥¨**: **62å€‹**ï¼ˆ59å€‹ã¯æ—¢å­˜ãƒãƒªã‚·ãƒ¼ã«å¾“ã„æ—¢è¨­å®šæ¸ˆã¿ï¼‰
- **åˆ¤æ–­è¦æ¤œè¨**: **1å€‹**

## ğŸ“Š æ¨å¥¨è¨­å®šæ¦‚è¦

| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³                | ç·ãƒ«ãƒ¼ãƒ«æ•° | æœ‰åŠ¹åŒ–æ¨å¥¨ | offæ¨å¥¨ | åˆ¤æ–­è¦ |
| ------------------------- | ---------- | ---------- | ------- | ------ |
| eslint-plugin-unicorn     | 18         | 12         | 6       | 0      |
| eslint-plugin-jest        | 1          | 0          | 1       | 0      |
| eslint-plugin-jsdoc       | 13         | 0          | 13      | 0      |
| @eslint/markdown          | 20         | 0          | 20      | 0      |
| eslint-plugin-n           | 1          | 1          | 0       | 0      |
| eslint-plugin-react-hooks | 24         | 0          | 24      | 0      |
| eslint-plugin-import-x    | 1          | 0          | 0       | 1      |

---

## âœ… å³åº§ã«æœ‰åŠ¹åŒ–æ¨å¥¨ï¼ˆ15å€‹ï¼‰

ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã¯æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã¨ã®æ•´åˆæ€§ãŒé«˜ãã€å®Ÿç”¨çš„ãªãŸã‚æœ‰åŠ¹åŒ–ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

### eslint-plugin-unicorn (12å€‹)

| ãƒ«ãƒ¼ãƒ«å                                       | ç†ç”±                                                                              | è‡ªå‹•ä¿®æ­£ |
| ---------------------------------------------- | --------------------------------------------------------------------------------- | -------- |
| `unicorn/consistent-date-clone`                | æ—¥ä»˜ã‚¯ãƒ­ãƒ¼ãƒ³ã®ä¸€è²«æ€§ã¯é‡è¦ã€‚new Date(date)ã¨structuredClone(date)ã®ä½¿ã„åˆ†ã‘ã‚’çµ±ä¸€ | âœ…       |
| `unicorn/no-accessor-recursion`                | getter/setterå†…ã§ã®åŒåãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¢ã‚¯ã‚»ã‚¹ã¯ç„¡é™ãƒ«ãƒ¼ãƒ—ã®åŸå› ã€‚æ˜ç¢ºãªãƒã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³   | âŒ       |
| `unicorn/no-instanceof-builtins`               | Array.isArray()ãªã©ã®å°‚ç”¨ãƒ¡ã‚½ãƒƒãƒ‰ã®æ–¹ãŒå‹å®‰å…¨                                     | âœ…       |
| `unicorn/no-named-default`                     | import { default as foo }ã¯å†—é•·ã€‚import fooã‚’ä½¿ã†ã¹ã                             | âœ…       |
| `unicorn/no-unnecessary-array-flat-depth`      | flat(1)ã¯å†—é•·ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒ1ï¼‰                                                    | âœ…       |
| `unicorn/no-unnecessary-array-splice-count`    | splice(index, Infinity)ã‚ˆã‚Šsplice(index)ãŒç°¡æ½”                                    | âœ…       |
| `unicorn/no-unnecessary-slice-end`             | slice(0, array.length)ã¯å†—é•·                                                      | âœ…       |
| `unicorn/no-useless-error-capture-stack-trace` | V8ã§ã¯è‡ªå‹•çš„ã«ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ãŒè¨˜éŒ²ã•ã‚Œã‚‹                                        | âŒ       |
| `unicorn/prefer-bigint-literals`               | BigIntãƒªãƒ†ãƒ©ãƒ«(123n)ã®æ–¹ãŒç°¡æ½”ã§æ„å›³ãŒæ˜ç¢º                                        | âœ…       |
| `unicorn/prefer-classlist-toggle`              | classList.toggle()ã®æ–¹ãŒç°¡æ½”ã§èª­ã¿ã‚„ã™ã„                                          | âœ…       |
| `unicorn/prefer-import-meta-properties`        | import.meta.envã‚„import.meta.urlã®ä½¿ç”¨ã‚’æ¨å¥¨ï¼ˆESMç’°å¢ƒã§ã®é©åˆ‡ãªAPIä½¿ç”¨ï¼‰          | âŒ       |
| `unicorn/prefer-single-call`                   | ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒ¼ãƒ³ã‚’1å›ã®å‘¼ã³å‡ºã—ã«çµ±ä¸€ï¼ˆå¯èª­æ€§ã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚ã‚Šã€warnãƒ¬ãƒ™ãƒ«ï¼‰   | âŒ       |
| `unicorn/require-module-specifiers`            | ESMç’°å¢ƒã§ã¯æ‹¡å¼µå­ãŒå¿…é ˆã€‚ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è§£æ±ºã®æ˜ç¤ºæ€§ã‚’å‘ä¸Š                             | âŒ       |

### eslint-plugin-n (1å€‹)

| ãƒ«ãƒ¼ãƒ«å                  | ç†ç”±                                                                    | è‡ªå‹•ä¿®æ­£ |
| ------------------------- | ----------------------------------------------------------------------- | -------- |
| `node/no-top-level-await` | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚³ãƒ¼ãƒ‰ã§ã¯ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«awaitã‚’ç¦æ­¢ã™ã¹ãï¼ˆåˆ©ç”¨å´ã®åˆ¶ç´„ã«ãªã‚‹ï¼‰ | âŒ       |

**âš ï¸ è¨­å®šæ³¨æ„**:

- ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«awaitã‚’è¨±å¯ã™ã‚‹å ´åˆã®ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰è¨­å®šä¾‹:

```javascript
{
  files: ["scripts/**/*.ts", "scripts/**/*.js"],
  rules: {
    "node/no-top-level-await": "off"
  }
}
```

- CommonJSç’°å¢ƒã§`unicorn/prefer-import-meta-properties`ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹å ´åˆ:

```javascript
{
  files: ["**/*.cjs", "**/*.cts"],
  rules: {
    "unicorn/prefer-import-meta-properties": "off"
  }
}
```

- ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã‚„CJSã§`unicorn/require-module-specifiers`ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹å ´åˆ:

```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ãƒ“ãƒ«ãƒ‰ç’°å¢ƒï¼ˆbundlerãŒæ‹¡å¼µå­ã‚’è§£æ±ºï¼‰
{
  files: ["src/browser/**/*.ts", "src/components/**/*.tsx"],
  rules: {
    "unicorn/require-module-specifiers": "off"
  }
}

// CommonJSç’°å¢ƒ
{
  files: ["**/*.cjs", "**/*.cts"],
  rules: {
    "unicorn/require-module-specifiers": "off"
  }
}
```

---

## ğŸš« ç¶™ç¶šoffæ¨å¥¨ï¼ˆ63å€‹ï¼‰

### æ—¢å­˜ãƒãƒªã‚·ãƒ¼ã«ã‚ˆã‚Šæ—¢è¨­å®šæ¸ˆã¿ï¼ˆ59å€‹ï¼‰

ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã¯æ—¢å­˜ã®è¨­å®šãƒãƒªã‚·ãƒ¼ã«å¾“ã„ã€æ—¢ã«`off`è¨­å®šæ¸ˆã¿ã§ã™ã€‚

#### eslint-plugin-jest (1å€‹)

- `test/prefer-ending-with-an-expect`: false positiveãŒå¤šã„

#### eslint-plugin-jsdoc (13å€‹)

- **ãƒãƒªã‚·ãƒ¼**: TypeScriptå‹å®šç¾©å„ªå…ˆã€JSDocã¯æœ€å°é™ä½¿ç”¨
- ã™ã¹ã¦ã®æ–°è¦ãƒ«ãƒ¼ãƒ«ï¼ˆ13å€‹ï¼‰ã‚’offç¶™ç¶š

#### @eslint/markdown (20å€‹)

- **ãƒãƒªã‚·ãƒ¼**: Markdownã‚³ãƒ¼ãƒ‰ä¾‹ã®è‡ªç”±åº¦ã‚’ä¿ã¤
- ã™ã¹ã¦ã®æ–°è¦ãƒ«ãƒ¼ãƒ«ï¼ˆ20å€‹ï¼‰ã‚’offç¶™ç¶š

#### eslint-plugin-react-hooks (24å€‹)

- **ãƒãƒªã‚·ãƒ¼**: React Compileré–¢é€£ã®å®Ÿé¨“çš„ãƒ«ãƒ¼ãƒ«ã¯å®‰å®šç‰ˆã¾ã§å¾…æ©Ÿ
- ã™ã¹ã¦ã®æ–°è¦ãƒ«ãƒ¼ãƒ«ï¼ˆ24å€‹ï¼‰ã‚’offç¶™ç¶š

#### eslint-plugin-import-x (1å€‹)

- `import/prefer-namespace-import`: åˆ¤æ–­è¦æ¤œè¨ï¼ˆå¾Œè¿°ï¼‰

### æ–°è¦offæ¨å¥¨ï¼ˆ4å€‹ï¼‰

#### eslint-plugin-unicorn (4å€‹)

| ãƒ«ãƒ¼ãƒ«å                            | ç†ç”±                                                         |
| ----------------------------------- | ------------------------------------------------------------ |
| `unicorn/consistent-assert`         | ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã®çµ±ä¸€ã‚’å¼·åˆ¶ã™ã‚‹ãŒã€æŸ”è»Ÿæ€§ã‚’ä¿ã¤ã¹ã     |
| `unicorn/no-array-reverse`          | Array#reverse()ã®ä½¿ç”¨ã‚’å®Œå…¨ã«ç¦æ­¢ã™ã‚‹ã®ã¯åˆ¶é™ãŒå³ã—ã™ãã‚‹    |
| `unicorn/no-array-sort`             | Array#sort()ã®ä½¿ç”¨ã‚’å®Œå…¨ã«ç¦æ­¢ã™ã‚‹ã®ã¯åˆ¶é™ãŒå³ã—ã™ãã‚‹       |
| `unicorn/prefer-class-fields`       | æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¯ä¼çµ±çš„ãªã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¹ã‚¿ã‚¤ãƒ«ã€‚ç§»è¡Œã¯ç ´å£Šçš„å¤‰æ›´ |
| `unicorn/require-module-attributes` | import attributesã¯ã¾ã å®Ÿé¨“çš„æ©Ÿèƒ½ï¼ˆJSON/CSS modulesï¼‰        |

---

## ğŸ¤” åˆ¤æ–­è¦æ¤œè¨ï¼ˆ1å€‹ï¼‰

ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã¯åˆ¤æ–­è»¸ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤ºã—ã¾ã™ã€‚

### 1. `import/prefer-namespace-import`

**ç¾åœ¨**: `off`
**åˆ¤æ–­è»¸**: åå‰ç©ºé–“ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’æ¨™æº–åŒ–ã—ãŸã„ã‹ï¼Ÿtree shakingã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’è€ƒæ…®

**èª¬æ˜**:

```javascript
import { a, b, c } from "module"; // NG
import * as module from "module"; // OK
```

**ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•**:

- âœ… åå‰ç©ºé–“ã‚¤ãƒ³ãƒãƒ¼ãƒˆ: çµ±ä¸€æ„Ÿã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•ŒãŒæ˜ç¢º
- âœ… å€‹åˆ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆ: tree shakingã«æœ‰åˆ©ã€æ˜ç¤ºçš„

**æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:

- ä¸€èˆ¬çš„ã«ã¯`off`æ¨å¥¨ï¼ˆtree shakingå„ªå…ˆï¼‰
- å¤§è¦æ¨¡ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å ´åˆã¯`error`ã‚’æ¤œè¨

---

## ğŸ”§ è¨­å®šå¤‰æ›´ã®æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: æœ‰åŠ¹åŒ–æ¨å¥¨ãƒ«ãƒ¼ãƒ«ã®é©ç”¨

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ã¾ã™ï¼š

#### `src/configs/unicorn.ts`

```typescript
// ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’offã‹ã‚‰å¤‰æ›´
"unicorn/consistent-date-clone": "error",
"unicorn/no-accessor-recursion": "error",
"unicorn/no-instanceof-builtins": "error",
"unicorn/no-named-default": "error",
"unicorn/no-unnecessary-array-flat-depth": "error",
"unicorn/no-unnecessary-array-splice-count": "error",
"unicorn/no-unnecessary-slice-end": "error",
"unicorn/no-useless-error-capture-stack-trace": "error",
"unicorn/prefer-bigint-literals": "error",
"unicorn/prefer-classlist-toggle": "error",
"unicorn/prefer-import-meta-properties": "error",
"unicorn/prefer-single-call": "warn",  // å¯èª­æ€§ã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®ãŸã‚è­¦å‘Šãƒ¬ãƒ™ãƒ«
"unicorn/require-module-specifiers": "error",
```

#### `src/configs/node.ts`

```typescript
// ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’offã‹ã‚‰errorã«å¤‰æ›´
"node/no-top-level-await": "error",
```

**âš ï¸ é‡è¦**: å¿…è¦ã«å¿œã˜ã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰è¨­å®šã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã€ãƒ¡ã‚¤ãƒ³ã®eslint.config.jsã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```javascript
// ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«awaitã‚’è¨±å¯
{
  files: ["scripts/**/*.ts", "scripts/**/*.js"],
  rules: {
    "node/no-top-level-await": "off"
  }
}

// CommonJSç’°å¢ƒã§import.metaé–¢é€£ã¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ‹¡å¼µå­è¦æ±‚ã‚’ç„¡åŠ¹åŒ–
{
  files: ["**/*.cjs", "**/*.cts"],
  rules: {
    "unicorn/prefer-import-meta-properties": "off",
    "unicorn/require-module-specifiers": "off"
  }
}

// ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ‹¡å¼µå­è¦æ±‚ã‚’ç„¡åŠ¹åŒ–
{
  files: ["src/browser/**/*.ts", "src/components/**/*.tsx"],
  rules: {
    "unicorn/require-module-specifiers": "off"
  }
}
```

### ã‚¹ãƒ†ãƒƒãƒ—2: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ãƒã‚§ãƒƒã‚¯

```bash
# æ–°ã—ã„ãƒ«ãƒ¼ãƒ«ã§ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
pnpm lint

# è‡ªå‹•ä¿®æ­£å¯èƒ½ãªã‚‚ã®ã‚’ä¿®æ­£
pnpm lint:fix
```

### ã‚¹ãƒ†ãƒƒãƒ—3: åˆ¤æ–­è¦æ¤œè¨ãƒ«ãƒ¼ãƒ«ã®æ±ºå®š

ä¸Šè¨˜ã€Œåˆ¤æ–­è¦æ¤œè¨ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã€ãƒãƒ¼ãƒ ã§è­°è«–ã—ã¦æ±ºå®šã—ã¦ãã ã•ã„ã€‚

---

## ğŸ“ å¤‰æ›´å½±éŸ¿ã®è¦‹ç©ã‚‚ã‚Š

### å½±éŸ¿åº¦: ä½ã€œä¸­

- **è‡ªå‹•ä¿®æ­£å¯èƒ½**: 15å€‹ä¸­8å€‹ï¼ˆ53%ï¼‰
- **ç ´å£Šçš„å¤‰æ›´ã®å¯èƒ½æ€§**: ä½ã€œä¸­ï¼ˆESMæ‹¡å¼µå­è¦æ±‚ã«ã‚ˆã‚Šæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£ãŒå¿…è¦ãªå¯èƒ½æ€§ï¼‰
- **false positive**: æœ€å°é™ï¼ˆå®Ÿç”¨çš„ãªãƒ«ãƒ¼ãƒ«ã®ã¿é¸å®šï¼‰

### æ¨å¥¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°

1. **å³å®Ÿæ–½å¯èƒ½**: è‡ªå‹•ä¿®æ­£å¯èƒ½ãªãƒ«ãƒ¼ãƒ«ï¼ˆ8å€‹ï¼‰
2. **ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œå®Ÿæ–½**: è‡ªå‹•ä¿®æ­£ä¸å¯ãƒ«ãƒ¼ãƒ«ï¼ˆ7å€‹ï¼‰
3. **ãƒãƒ¼ãƒ è­°è«–å¾Œ**: åˆ¤æ–­è¦æ¤œè¨ãƒ«ãƒ¼ãƒ«ï¼ˆ1å€‹ï¼‰

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [è©³ç´°ãƒ¬ãƒ“ãƒ¥ãƒ¼YAML](./rules-review-v7.2.0.yaml): å…¨ãƒ«ãƒ¼ãƒ«ã®è©³ç´°åˆ†æ
- [æ–°è¦è¿½åŠ ãƒ«ãƒ¼ãƒ«ä¸€è¦§](./new-rules-v7.2.0.md): ãƒ«ãƒ¼ãƒ«ã®èª¬æ˜ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒªãƒ³ã‚¯

---

## ğŸ¯ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

- [ ] æœ‰åŠ¹åŒ–æ¨å¥¨ãƒ«ãƒ¼ãƒ«ï¼ˆ15å€‹ï¼‰ã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«åæ˜ 
- [ ] `pnpm lint`ã§æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¸ã®å½±éŸ¿ã‚’ç¢ºèª
- [ ] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ‹¡å¼µå­ã®è¿½åŠ ãŒå¿…è¦ãªç®‡æ‰€ã‚’ä¿®æ­£
- [ ] è‡ªå‹•ä¿®æ­£å¯èƒ½ãªãƒ«ãƒ¼ãƒ«ã¯`pnpm lint:fix`ã§ä¿®æ­£
- [ ] åˆ¤æ–­è¦æ¤œè¨ãƒ«ãƒ¼ãƒ«ï¼ˆ1å€‹ï¼‰ã«ã¤ã„ã¦ãƒãƒ¼ãƒ ã§è­°è«–
- [ ] å¿…è¦ã«å¿œã˜ã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰è¨­å®šã‚’è¿½åŠ ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ãƒ“ãƒ«ãƒ‰ã€CommonJSç­‰ï¼‰
- [ ] ã‚³ãƒŸãƒƒãƒˆ: `chore: enable new ESLint rules v7.2.0`
